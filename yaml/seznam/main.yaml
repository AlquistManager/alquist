name: main_flow
states:
  init:
    type: message_text
    properties:
      text: 'Řekni číslo.<span>NEŘÍKEJ TO</span>'
      delay: 0

  state8:
    type: message_buttons # shows buttons
    properties:
      buttons: # list of buttons to show
        - label: textA # label of the first button
          next_state: init # next_state after click on the first button
          type: demo1 # type of button (it is send to client, client has to implement it)
        - label: textB # label of the second button
          next_state: init # next_state after click on the second button
          type: demo2 # type of button (it is send to client, client has to implement it)

  input:
    type: input_user
    properties:
      entities:
        number: number # context key: entity
      log_json: false # determines if NLP JSON structure is stored in context
                     # only stores latest user prompt as JSON
      require_match: true # determines if expected entities are required
    transitions:
      match: result # transition when the entities are matched
      notmatch: error # transition when the entities are not matched

  error:
    type: message_text_random
    properties:
      responses:
        - 'Nerozumím ti.'
        - 'Tohle číslo neznám.'
    transitions:
      next_state: init

  result:
    type: message_text
    properties:
      text: 'Řekl jsi číslo {{number}}.'
