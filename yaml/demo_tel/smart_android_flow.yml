name: smart_android_flow
states:
  smart_android_init:
    type: message_text
    properties:
      text: 'Android využívá celá řada výrobců mobilních telefonů. Pokud hledáte telefon od specifického výrobce, můžete si vybrat z nabídky níže. Pokud si volbou výrobce nejste jisti, zvolte možnost PŘESKOČIT VOLBU VÝROBCE'


  smart_android_select_brand_buttons:
    type: message_buttons
    properties:
      buttons:
        - label: Samsung
          next_state: smart_android_params
        - label: HTC
          next_state: smart_android_params
        - label: HUAWEI
          next_state: smart_android_params
        - label: LG
          next_state: smart_android_params
        - label: SONY
          next_state: smart_android_params

  smart_android_select_brand:
    type: input_user # Prompts cliends and waits for his response
    properties:
      entities: # List of entities expected in client's answer
        brand: brand # context key: entity
      require_match: true # determines if expected entities are required
    transitions:
      match: smart_android_params # transition when the entities are matched
      notmatch: error_select_brand # transition when the entities are not matched

  error_select_brand:
    type: message_text_random # Sends one of the messages listed under responses
    properties:
      responses: # List of responses
        - Promiňte, ale tu značku neznám, prosím zkontrolujte, že jste ji zadali správně, případně zvolte přeskořit volbu výrobce?
    transitions:
      next_state: smart_android_select_brand_buttons

  smart_android_params:
    type: message_text
    properties:
      text: 'Nyní se zaměříme na parametry telefonu.'

  smart_android_params_2:
    type: message_text
    properties:
      text: 'Prosím zvolte, který z parametrů chcete specifikovat. Pokod jste vybrali všechny požadované parametry, přejděte k návrhu telefonů.'
      delay: 1000

  smart_android_params_3_buttons:
    type: message_buttons
    properties:
      buttons:
        - label: ÚHLOPŘÍČKA DISPLEJE
          next_state: smart_android_display
        - label: PROCESOR
          next_state: smart_android_processor
        - label: OPERAČNÍ PAMĚŤ
          next_state: smart_android_ram
        - label: VELIKOST ÚLOŽIŠTĚ TELEFONU
          next_state: smart_android_memory
        - label: ROZLIŠENÍ TELEFONU
          next_state: smart_android_resolution
        - label: NAVRHNOUT TELEFONY
          next_state: smart_android_recommend

  smart_android_select_param:
    type: input_user # Prompts cliends and waits for his response
    properties:
      entities: # List of entities expected in client's answer
        parameter: parameter # context key: entity
      require_match: true # determines if expected entities are required
    transitions:
      match: smart_android_param_check_display # transition when the entities are matched
      notmatch: error_select_param # transition when the entities are not matched

  error_select_param:
    type: message_text_random # Sends one of the messages listed under responses
    properties:
      responses: # List of responses
        - Prosím vyberte jeden z nabídky parametrů a opřesněte jeho hodnoty. Pokud už jste nastavili všechny požadované parametry, zvolte NAVRHNOUT TELEFONY
    transitions:
      next_state: smart_android_params_3_buttons


  smart_android_param_check_display:
    type: conditional_equal
    properties:
      value1: '{{parameter}}' # Here we use value of a context key intent
      value2: 'display' # We compare string "greeting"
    transitions: # defines transition states for both branches
      equal: smart_android_display # transition for when values are equal
      notequal: smart_android_param_check_processor # transition for when values are not equal

  smart_android_param_check_processor:
    type: conditional_equal
    properties:
      value1: '{{parameter}}' # Here we use value of a context key intent
      value2: 'processor' # We compare string "greeting"
    transitions: # defines transition states for both branches
      equal: smart_android_processor # transition for when values are equal
      notequal: smart_android_param_check_ram # transition for when values are not equal

  smart_android_param_check_ram:
    type: conditional_equal
    properties:
      value1: '{{parameter}}' # Here we use value of a context key intent
      value2: 'ram' # We compare string "greeting"
    transitions: # defines transition states for both branches
      equal: smart_android_ram # transition for when values are equal
      notequal: smart_android_param_check_memory # transition for when values are not equal

  smart_android_param_check_memory:
    type: conditional_equal
    properties:
      value1: '{{parameter}}' # Here we use value of a context key intent
      value2: 'space' # We compare string "greeting"
    transitions: # defines transition states for both branches
      equal: smart_android_memory # transition for when values are equal
      notequal: smart_android_param_check_resolution # transition for when values are not equal

  smart_android_param_check_resolution:
    type: conditional_equal
    properties:
      value1: '{{parameter}}' # Here we use value of a context key intent
      value2: 'resolution' # We compare string "greeting"
    transitions: # defines transition states for both branches
      equal: smart_android_resolution # transition for when values are equal
      notequal: smart_android_param_check_recommend # transition for when values are not equal

  smart_android_param_check_recommend:
    type: conditional_equal
    properties:
      value1: '{{parameter}}' # Here we use value of a context key intent
      value2: 'recommend' # We compare string "greeting"
    transitions: # defines transition states for both branches
      equal: smart_android_recommend # transition for when values are equal
      notequal: error_select_param # transition for when values are not equal

  smart_android_display:
    type: message_text
    properties:
      text: 'Displej je zpravidla dotykový a velikost jeho úhlopříčky se uvádí v palcích. Palec se značí značkou " a odpovídá 2,54 cm. Například čtyřpalcový displej je velký asi jako kreditní karta. Nejvybavenější telefony mají displeje pohybující se od čtyř do pěti palců. Existují i tzv. phablety (tabletofony), které se s šestipalcovými displeji svou velikostí blíží spíše tabletům.'

  smart_android_display_2:
    type: message_text
    properties:
      text: 'Prosím vyberte preferovanou velikost displeje:'
      delay: 1000

  smart_android_display_3_buttons:
    type: message_buttons
    properties:
      buttons:
        - label: MALÝ (DO 3.4 PALCŮ)
          next_state: smart_android_params_2
        - label: VELKÝ (3.4 - 5 PALCŮ)
          next_state: smart_android_params_2
        - label: EXTRA VELKÝ (5+ PALCŮ)
          next_state: smart_android_params_2
        - label: NA DISPLEJI MI NEZÁLEŽÍ
          next_state: smart_android_params_2

  smart_android_display_select:
    type: input_user # Prompts cliends and waits for his response
    properties:
      entities: # List of entities expected in client's answer
        display_size: display_size # context key: entity
      require_match: true # determines if expected entities are required
    transitions:
      match: smart_android_params_2 # transition when the entities are matched
      notmatch: error_select_display # transition when the entities are not matched

  error_select_display:
    type: message_text_random # Sends one of the messages listed under responses
    properties:
      responses: # List of responses
        - Prosím vyberte jednu z nabízených možností
    transitions:
      next_state: smart_android_display_3_buttons

  smart_android_processor:
    type: message_text
    properties:
      text: 'Pro rychlý chod telefonu je třeba výkonný procesor. Čím více GHz (gigahertz - jednotka, v níž se rychlost procesoru udává) a čím více jader procesor má, tím rychlejší bude.'
    transitions:
      next_state: smart_android_processor_3_buttons

  smart_android_processor_3_buttons:
    type: message_buttons
    properties:
      buttons:
        - label: CHCI TELEFON SE SILNÝM PROCESOREM
          next_state: smart_android_params_2
        - label: SÍLA PROCESORU NENÍ MOJE PRIORITA
          next_state: smart_android_params_2

  smart_android_processor_select:
    type: input_user # Prompts cliends and waits for his response
    properties:
      entities: # List of entities expected in client's answer
        processor: processor # context key: entity
      require_match: true # determines if expected entities are required
    transitions:
      match: smart_android_params_2 # transition when the entities are matched
      notmatch: error_select_processor # transition when the entities are not matched

  error_select_processor:
    type: message_text_random # Sends one of the messages listed under responses
    properties:
      responses: # List of responses
        - Prosím vyberte jednu z nabízených možností
    transitions:
      next_state: smart_android_processor_3_buttons




  smart_android_ram:
    type: message_text
    properties:
      text: 'Telefon s velkou operační pamětí zvládne mít spuštěných více aplikací najednou a bude fungovat stále stejně plynule. Standardem se začíná stávat 1GB RAM, výkonnější telefony pak nabídnou 2 až 3 GB operační paměti.'

  smart_android_ram_3_buttons:
    type: message_buttons
    properties:
      buttons:
        - label: CHCI TELEFON S VELKOU OPERAČNÍ PAMĚTÍ (2+ GB)
          next_state: smart_android_params_2
        - label: VELIKOST OPERAČNÍ PAMĚTI MĚ NEZAJÍMÁ
          next_state: smart_android_params_2

  smart_android_ram_select:
    type: input_user # Prompts cliends and waits for his response
    properties:
      entities: # List of entities expected in client's answer
        ram: ram # context key: entity
      require_match: true # determines if expected entities are required
    transitions:
      match: smart_android_params_2 # transition when the entities are matched
      notmatch: error_select_ram # transition when the entities are not matched

  error_select_ram:
    type: message_text_random # Sends one of the messages listed under responses
    properties:
      responses: # List of responses
        - Prosím vyberte jednu z nabízených možností
    transitions:
      next_state: smart_android_ram_3_buttons


  smart_android_memory:
    type: message_text
    properties:
      text: 'Paměť telefonu se udává v GB (gigabytech). Čím vyšší hodnota, tím více hudby, filmů, fotografií, her a aplikací se vám do telefonu vejde.4 GB jde doporučit jako základ. Pokud více fotografujete, hrajete hry atp., sáhněte raději po 8 GB a více.'

  smart_android_memory_2:
    type: message_text
    properties:
      text: 'Řešením je také koupě telefonu s podporou paměťových karet. Ty mohou mít kapacitu až několika desítek GB a stojí běžně pár set korun. Snadno tak rozšíříte základní paměť telefonu.'
      delay: 1000

  smart_android_memory_3_buttons:
    type: message_buttons
    properties:
      buttons:
        - label: STAČÍ MI TELEFON S PAMĚTÍ DO 8 GB
          next_state: smart_android_params_2
        - label: CHCI TELEFON S PAMĚTÍ NAD 8 GB 
          next_state: smart_android_params_2
        - label: CHCI TELEFON S PODPOROU PAMĚŤOVÝCH KARET 
          next_state: smart_android_params_2
        - label: INTERNÍ PAMĚŤ TELEFONU NENÍ MOJE PRIORITA 
          next_state: smart_android_params_2

  smart_android_memory_select:
    type: input_user # Prompts cliends and waits for his response
    properties:
      entities: # List of entities expected in client's answer
        memory: memory # context key: entity
      require_match: true # determines if expected entities are required
    transitions:
      match: smart_android_params_2 # transition when the entities are matched
      notmatch: error_select_memory # transition when the entities are not matched

  error_select_memory:
    type: message_text_random # Sends one of the messages listed under responses
    properties:
      responses: # List of responses
        - Prosím vyberte jednu z nabízených možností
    transitions:
      next_state: smart_android_memory_3_buttons



  smart_android_resolution:
    type: message_text
    properties:
      text: 'Rozlišení displeje je udáváno maximálním počtem pixelů (bodů), které se zobrazí na obrazovce telefonu. Čím vyšší, tím bude obraz ostřejší. U levnějších přístrojů byste měli požadovat rozlišení alespoň 800 x 480, u dražších pak 1280 x 720 bodů.'


  smart_android_resolution_3_buttons:
    type: message_buttons
    properties:
      buttons:
        - label: CHCI TELEFON S ROZLIŠENÍM ALESPOŇ 1280 x 720
          next_state: smart_android_params_2
        - label: CHCI TELEFON S ROZLIŠENÍM ALESPOŇ 1920 X 1080
          next_state: smart_android_params_2
        - label: ROZLIŠENÍ TELEFONU MNE NEZAJÍMÁ
          next_state: smart_android_params_2

  smart_android_resolution_select:
    type: input_user # Prompts cliends and waits for his response
    properties:
      entities: # List of entities expected in client's answer
        resolution: resolution # context key: entity
      require_match: true # determines if expected entities are required
    transitions:
      match: smart_android_params_2 # transition when the entities are matched
      notmatch: error_select_resolution # transition when the entities are not matched

  error_select_resolution:
    type: message_text_random # Sends one of the messages listed under responses
    properties:
      responses: # List of responses
        - Prosím vyberte jednu z nabízených možností
    transitions:
      next_state: smart_android_resolution_3_buttons

  smart_android_recommend:
    type: message_text
    properties:
      text: 'Vybrali jste SMARTPHONE s operačním systémem ANDROID a následujícími parametry - cena od {{price_from}} do {{price_to}} Kč, displej {{display_size}} palců, processor {{processor}}, ram {{ram}}, rozlišení {{resolution}} a paměť {{memory}}.'


  smart_android_recommend_2:
    type: message_text
    properties:
      text: 'PROHLEDÁVÁNÍ DATABÁZE TELEFONŮ ZATÍM NENÍ IMPLEMENTOVÁNO, DIALOG TEDY SKONČÍ'
      delay: 1000
